# 右左法则

## 1、方法

先找到`变量名称`，再依次按照从右到左的顺序进行查看，若有括号，则先看括号内部。

**首先从最里面的圆括号（应该是未定义的标识符）看起，然后往右看，再往左看。每当遇到圆括号时，就应该掉转阅读方向。一旦解析完圆括号里面所有的东西，就跳出圆括号。重复这个过程直到整个声明解析完毕。**

## 2、例子

### 2.1、数组

**例1：**

```c
int *v[];
/*
 *	1、找到变量名 v；
 *	2、向右看，是 [] ,则为数组，所以该变量为数组。
 *	3、向左看，是 * ，是指针；
 *	所以该变量为数组指针，且数组内部存储的是 int* 变量。
 */
```

![image-20230706173920998](D:\MarkdowPad2_md\随手记\images\image-20230706173920998.png)

**例2：**

```c
int (*a)[10];

/*
首先我们找到变量a，向右看，看到“）”，返回向左看，看到“*”，便确定a是一个指针变量，再向右看，看到“[”，说明指针变量里保存的地址是数组的地址，即数组指针变量，再向右看，看到“int”，说明这个数组指针变量里的每一个元素都是整型的，即整型数组指针变量。
*/
```

```c
int (*v)[];
/*
 *	1、找到变量名 v；
 *	2、由于是被括号括起来了，所以 (*v) 是一个整体，即为一个指针；
 *	3、向右看，是数组。
 *	所以该变量为指针，指向包含有(int)变量的数组。
 *	也可以理解为，该变量为指针变量，指向含有多个(int)类型的数组。
 */
```

![image-20230707094043031](D:\MarkdowPad2_md\随手记\images\image-20230707094043031.png)

### 2.2、函数指针

**例1：**

```c
int* func();
/*
 *	1、变量名为 func()
 *	2、向右看，是函数；
 *	3、向左看，是指针。
 *	所以该变量是返回值为(int*)的函数。
 */
```

**例2：**

```c
int (*func)();
/*
 *	1、变量名为 (*func) ，是指针；
 *	2、向右看，是函数；
 *	所以该变量是函数指针，返回值为 (int) 类型。
 */
```

## 3、复杂实例

**例1：**

```c
int (*v[])();
/*
 *	1、该变量为 v ;
 *	2、右：是数组；
 *	3、左：是指针；
 *	(*v[])是指针数组；
 *	4、右：函数。
 *	所以该变量为返回值为(int)，即函数指针数组。
 */
```

![image-20230707095910986](D:\MarkdowPad2_md\随手记\images\image-20230707095910986.png)

**例2：**

```c
int (* (*v)[])();
/*
 *	1、变量为 (*v) 是指针；
 *	2、右：数组；
 *	3、左：指针；
 *	4、右：函数
 *	该变量是由返回值为(int)的函数指针组成的指针数组。
 */

```

![image-20230707103540295](D:\MarkdowPad2_md\随手记\images\image-20230707103540295.png)

**例3：**

```c
int * (* (*fp1) (int) ) [10];
/*
 *	1、变量 (*fp1)，指针变量；
 *	2、右：(int),函数；
 *	3、左：*，指针；
 *	4、右：[10]，数组；
 *	5、左：*，指针
 *	该变量为函数指针，返回指向指针数组的指针。
 */

/*
 *	阅读步骤： 
 *	1. 从变量名开始 -------------------------------------------- fp1 
 *	2. 往右看，什么也没有，碰到了)，因此往左看，碰到一个* ------ 一个指针 
 *	3. 跳出括号，碰到了(int) ----------------------------------- 一个带一个int参数的函数 
 *	4. 向左看，发现一个* --------------------------------------- （函数）返回一个指针 
 *	5. 跳出括号，向右看，碰到[10] ------------------------------ 一个10元素的数组 
 *	6. 向左看，发现一个* --------------------------------------- 指针 
 *	7. 向左看，发现int ----------------------------------------- int类型 
 *	总结：fp1被声明成为一个函数的指针,该函数返回指向指针数组的指针. 
 */

```

